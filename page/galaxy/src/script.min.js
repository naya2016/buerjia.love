var photoTl,videoTl,controller,w=window.innerWidth;

// 设置照片动画
function setPhotosAnimation(){(photoTl=new TimelineMax({onUpdate:function(){photoTl.progress()}})).from(".photo-gallery-item:nth-of-type(1)",.7,{x:-.15*w,opacity:0}),photoTl.from(".photo-gallery-item:nth-of-type(2)",.7,{x:.15*w,opacity:0},"=-.7")}

// 设置视频动画
function setVideoAnimation(){(videoTl=new TimelineMax({onUpdate:function(){videoTl.progress()}})).to(".banner h2",10,{transform:"scale(78)","-webkit-transform":"scale(78)","-ms-transform":"scale(78)",left:"-30%"},"=.2"),videoTl.from(".banner h3",2,{opacity:0})}

// 初始化动画
setPhotosAnimation(),setVideoAnimation(),controller=new ScrollMagic.Controller;

// 创建照片画廊场景并添加到控制器
const photoGallery=new ScrollMagic.Scene({triggerElement:".photo-gallery-trigger",triggerHook:.7,duration:"85%"}).setTween(photoTl).addTo(controller);

// 创建视频画廊场景并添加到控制器
videoGallery=new ScrollMagic.Scene({triggerElement:".video-gallery-trigger",triggerHook:0,duration:8e3}).setPin(".video-gallery").setTween(videoTl).addTo(controller);

// 初始化涂鸦板
$("#scratch").wScratchPad({size:.1*w,bg:"#",fg:"#000",cursor:"crosshair"});

// 窗口调整大小时重置涂鸦板
$(window).resize((function(){$("#scratch").wScratchPad("reset"),w=window.innerWidth}));